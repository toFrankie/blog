---
title: è§£å†³å¤šè¡Œæ–‡æœ¬æ¢è¡Œçœç•¥æ˜¾ç¤ºå¤±æ•ˆçš„é—®é¢˜
number: '#157'
link: 'https://github.com/toFrankie/blog/issues/157'
created_at: '2023-02-26 15:12:15'
updated_at: '2023-11-27 14:07:42'
labels:
  - CSS
  - '2020'
---
ç›¸ä¿¡å¤§å®¶çš„å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®ä¸­ï¼Œéƒ½ä¼šç”¨åˆ° `autoprefixer` ï¼Œå®ƒè®©æˆ‘ä»¬æ— éœ€å…³ç³»è¦ä¸ºå“ªäº›æµè§ˆå™¨åŠ å‰ç¼€ã€‚é…åˆ `postcss` ä¸€èµ·ä½¿ç”¨ä¼šæ›´å¥½ã€‚

ä½†åŒæ—¶å®ƒä¹Ÿä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚å®ƒä¸ä¼šå¸®ä½ æ·»åŠ  `-webkit-` ä¹‹ç±»çš„ prefixerã€‚è™½ç„¶å®ƒä¼šå¸®ä½ å¢åŠ æ–°å‰ç¼€ï¼Œä½†ä¹Ÿä¼šå¸®ä½ åˆ é™¤è€å¼è¿‡æ—¶çš„ä»£ç ã€‚

### éœ€æ±‚æ¥äº†

ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œ**æ–‡æœ¬æœ€å¤šæ˜¾ç¤ºä¸¤è¡Œï¼Œæº¢å‡ºéƒ¨åˆ†ä½¿ç”¨çœç•¥å·è¡¨ç¤º**ï¼Œè¦æ€ä¹ˆåšå‘¢ï¼Ÿ

### ä»£ç å®ç°
å¿ƒæƒ³ so easy å•¦ï¼Œç„¶åå­æ‹‰ä¸€ä¸‹å†™å‡ºæ¥ä¸‹é¢çš„ä»£ç ï¼Œé¡µé¢çƒ­æ›´æ–°å¥½äº†ï¼Œæ“¦äº†æ“¦çœ¼é•œï¼Œä¸æ˜¯çœ¼èŠ±äº†å§ï¼Œæ²¡æˆåŠŸï¼Ÿï¼ˆå†…å¿ƒåä¸‡ä¸ªé©¬å„¿å¥”è…¾...ï¼‰
```html
<div class="text">å…³å…³é›é¸ ï¼Œåœ¨æ²³ä¹‹æ´²ã€‚çªˆçª•æ·‘å¥³ï¼Œå›å­å¥½é€‘ã€‚å‚å·®è‡èœï¼Œå·¦å³æµä¹‹ã€‚çªˆçª•æ·‘å¥³ï¼Œå¯¤å¯æ±‚ä¹‹ã€‚æ±‚ä¹‹ä¸å¾—ï¼Œå¯¤å¯æ€æœã€‚æ‚ å“‰æ‚ å“‰ï¼Œè¾—è½¬åä¾§ã€‚å‚å·®è‡èœï¼Œå·¦å³é‡‡ä¹‹ã€‚çªˆçª•æ·‘å¥³ï¼Œç´ç‘Ÿå‹ä¹‹ã€‚å‚å·®è‡èœï¼Œå·¦å³èŠ¼ä¹‹ã€‚çªˆçª•æ·‘å¥³ï¼Œé’Ÿé¼“ä¹ä¹‹ã€‚</div>
```

```css
.text {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}
```

### ç»“æœ

é¢„æœŸè¡¨ç°ï¼šâœ…

![é¢„æœŸä¸°æ»¡](https://upload-images.jianshu.io/upload_images/5128488-097edae264132ac3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å®é™…è¡¨ç°ï¼šâ

![ç°å®éª¨æ„Ÿ](https://upload-images.jianshu.io/upload_images/5128488-7d6bfec7807aef32.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### æ‰¾åŸå›  Why

ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿç»†å¿ƒä¸€çœ‹ï¼Œä¼šå‘ç°ç¼–è¯‘åçš„ CSS ä¸­ `-webkit-box-orient: vertical;` ä¸è§äº†ã€‚ğŸ‘‡
![ç¼–è¯‘åçš„CSS](https://upload-images.jianshu.io/upload_images/5128488-5fdb7b8b4e3987bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
ç„¶åå°±å¤§æ¦‚èƒ½çŒœå‡ºæ˜¯ä»€ä¹ˆç©æ„æé¬¼äº†ï¼Œä¸æ˜¯ postcssï¼Œå°±æ˜¯ autoprefixer äº†ã€‚ç„¶åæœäº†ä¸€ç•ªï¼Œå‘ç°æ€äººå‡¶æ‰‹å°±æ˜¯ autoprefixerï¼Œå®ƒæŠŠæˆ‘çš„ `-webkit-box-orient: vertical` åƒäº†ï¼ˆä¸Šé¢æè¿‡ï¼Œä¼šåˆ æ‰ä¸€äº›è¿‡æ—¶çš„è§„åˆ™ï¼‰

### è§£å†³æ–¹æ³•
1. åœ¨ postcss-loader å¢åŠ  `autoprefixer({ remove: false })`ã€‚**ï¼ˆä¸æ¨èï¼‰**
2. åªç§»é™¤è¿‡æ—¶å‰ç¼€ï¼Œä¸è‡ªåŠ¨å¢åŠ æ–°å‰ç¼€ï¼š`autoprefixer({ add: false })`ã€‚**ï¼ˆéæœ¬æ–‡é—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œä»…æ‰©å±•ç”¨ï¼‰**
3. ä½¿ç”¨ Control Commentsï¼ˆæ§åˆ¶æ³¨é‡Šï¼Œå—çº§ï¼‰**ï¼ˆæœ‰æ•ˆï¼‰**
```css
.text {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  /*! autoprefixer: off */
  -webkit-box-orient: vertical;
  /*! autoprefixer: on */
}
```
4. ä½¿ç”¨ Control Commentsï¼ˆæ§åˆ¶æ³¨é‡Šï¼Œå•è¡Œï¼‰**ï¼ˆæ— æ•ˆï¼‰**
ç½‘ä¸Šå¾ˆå¤šæ‰€ä½¿ç”¨è¿™ç§æ–¹å¼çš„ï¼Œä½†æˆ‘æµ‹è¯•æ— æ•ˆï¼ŒåŸå› æœªçŸ¥ã€‚å¦‚ç”¨è¡¥å……ï¼Œæ¬¢è¿æŒ‡å‡ºä¿®æ­£ï¼Œè°¢è°¢ï¼
```
.text {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  /*! autoprefixer: ignore next */
  -webkit-box-orient: vertical;
}
```
5. å¢åŠ å†…è”æ ·å¼ `style={{WebkitBoxOrient: 'vertical'}}`**ï¼ˆæœ‰æ•ˆï¼‰**

**åœ¨ä¸Šé¢åˆ—ä¸¾çš„å‡ ç§æ–¹æ³•ä¸­ï¼Œä¸ªäººæ¨èç¬¬ 3 ç§æ–¹å¼ã€‚**

### å‚è€ƒ

* [Autoprefixer control comments](https://github.com/postcss/autoprefixer#control-comments)
* [æ€æ ·ä½¿ç”¨ autoprefixer æ—¶ä¿ç•™ -webkit-box-orient ç­‰æ ·å¼è§„åˆ™](https://juejin.cn/post/6844903848599896072)
* [å¯èƒ½æ˜¯æœ€å…¨çš„ â€œæ–‡æœ¬æº¢å‡ºæˆªæ–­çœç•¥â€ æ–¹æ¡ˆåˆé›†](https://www.zoo.team/article/text-overflow)

