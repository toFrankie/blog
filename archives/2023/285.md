---
title: ç»†è¯» ES6 | æ¨¡æ¿å­—ç¬¦ä¸²è¿›é˜¶ç”¨æ³•
number: '#285'
link: 'https://github.com/toFrankie/blog/issues/285'
created_at: '2023-02-26 20:52:38'
updated_at: '2023-04-26 22:15:18'
labels:
  - å°šæœªå®Œç»“
  - JS
  - '2022'
---
![é…å›¾æºè‡ª Freepik](https://upload-images.jianshu.io/upload_images/5128488-75e185fd400c5c78.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplate stringï¼‰æ˜¯ ECMAScript 2015 è§„èŒƒä¸­çš„ä¸€ç§æ–°ç‰¹æ€§ï¼Œåœ¨å¹³å¸¸å¼€å‘ä¸­ä½¿ç”¨é¢‘ç‡éå¸¸é«˜ã€‚ä¹Ÿå¯ç§°ä½œæ¨¡æ¿å­—é¢é‡ï¼ˆtemplate literalï¼‰ã€‚

## å¸¸è§„ç”¨æ³•

æ¨¡æ¿å­—ç¬¦ä¸²ä½¿ç”¨åå¼•å·ï¼ˆ\` \`ï¼‰æ¥ä»£æ›¿æ™®é€šå­—ç¬¦ä¸²ä¸­çš„ç”¨åŒå¼•å·å’Œå•å¼•å·ã€‚

```js
// å•è¡Œå­—ç¬¦ä¸²
`single line text`

// å¤šè¡Œå­—ç¬¦ä¸²
`multiline text 1
 multiline text 2`

// åµŒå…¥è¡¨è¾¾å¼
function sayHi(name) {
  console.log(`Hi, ${name}~`)
}

// æ¨¡æ¿å­—ç¬¦ä¸²å†…ä½¿ç”¨åå¼•å·ï¼Œéœ€åœ¨å‰é¢æ·»åŠ è½¬ä¹‰ç¬¦ (\)
`\`` === '`' // true
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å†…çš„ã€Œä»»æ„å­—ç¬¦ã€éƒ½æ˜¯å®ƒçš„ä¸€éƒ¨åˆ†ï¼ŒåŒ…æ‹¬å¾ˆå®¹æ˜“è¢«è§†è§‰å¿½ç•¥çš„å‰å¯¼å°¾éšç©ºæ ¼ã€æ¢è¡Œç¬¦ç­‰ã€Œç©ºç™½ç¬¦ã€ã€‚æ¯”å¦‚ï¼š

```js
String.raw`multiline text 1
 multiline text 2` // "multiline text 1\n multiline text 2"
```

ä»¥ä¸Š `String.raw()` æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼ˆä¸‹é¢ä¼šä»‹ç»ï¼‰ï¼Œå®ƒè¿”å›æŒ‡å®šæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—ç¬¦ä¸²ï¼Œå¯ä»¥çœ‹åˆ°å®ƒæ˜¯åŒ…å« `\n `ï¼ˆæ¢è¡Œç¬¦å’Œç©ºæ ¼ï¼‰çš„ã€‚

å®ƒä¹Ÿæ”¯æŒåµŒå¥—è¯­æ³•ï¼Œæ¯”å¦‚ï¼š

```js
const className = `flex-center ${isShow ? `display ${isLarge ? 'big' : 'normal'}` : ''}`
```

ä»¥ä¸Šè¿™äº›å†…å®¹ï¼Œç›¸ä¿¡çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„ä½ éƒ½æ‡‚ï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ã€‚

## è¿›é˜¶ç”¨æ³•

å¦‚æœä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¿‡ [CSS-in-JS](https://www.wikiwand.com/en/CSS-in-JS)ï¼Œå¯ä»¥ç»å¸¸çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¯­æ³•ï¼š

```js
import styled from 'styled-components'

const Button = styled.button`
  color: palevioletred;
  font-size: 1em;
  margin: 1em;
  padding: 0.25em 1em;
  border: 2px solid palevioletred;
  border-radius: 3px;
`
```
ä»¥ä¸Šæ˜¯ [styled-components](https://styled-components.com/) çš„åŸºç¡€ç”¨æ³•ã€‚

è¿™çœ‹èµ·æ¥æœ‰ç‚¹â€œå¥‡æ€ªâ€çš„è¯­æ³•ï¼Œæ­£æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„**æ ‡ç­¾æ¨¡æ¿**ï¼ˆtagged templateï¼‰ã€‚çœ‹ä¸ªä¾‹å­ï¼š

```js
alert`Hey`
```

ä»¥ä¸Šç­‰åŒäº `alert('Hey')`ï¼Œåœ¨è¿™é‡Œ `alert` è¢«ç§°ä½œã€Œæ ‡ç­¾å‡½æ•°ã€ã€‚

**å› æ­¤ã€Œæ ‡ç­¾æ¨¡æ¿ã€å®é™…ä¸Šåªæ˜¯å‡½æ•°è°ƒç”¨çš„ä¸€ç§ç‰¹æ®Šå½¢å¼**ã€‚æ ‡ç­¾æŒ‡çš„æ˜¯å‡½æ•°ï¼ˆå³ `alert()` æ–¹æ³•ï¼‰ï¼Œè€Œå‡½æ•°åé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²å°±æ˜¯å®ƒçš„å‚æ•°ã€‚

å¦‚æœæ ‡ç­¾æ¨¡æ¿ä¸­çš„æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯åŒ…å«å˜é‡çš„ï¼Œå°±ä¸æ˜¯ç®€å•çš„è°ƒç”¨äº†ã€‚æ¯”å¦‚ï¼š

```js
const name = 'Frankie'

// æ ‡ç­¾æ¨¡æ¿
tag`Hey, ${name}~`

// ç­‰åŒäºè¿™æ ·è°ƒç”¨å‡½æ•°
tag(['Hey, ', '~'], 'Frankie')
```
æ ‡ç­¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­ç”±ä¸åŒ…å« `${expression}` éƒ¨åˆ†çš„å­—ç¬¦ä¸²æ‹†åˆ†è€Œæˆçš„æ•°ç»„ã€‚å³ \`Hey, \${name}~\` ä¸­çš„å‰”é™¤æ‰ `${name}` åæ‹†åˆ†ç»„æˆçš„æ•°ç»„ã€‚è€Œåé¢çš„å‚æ•°åˆ™ä¸ºæ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å˜é‡ã€‚æ³¨æ„ï¼Œæ ‡ç­¾å‡½æ•°å¹¶ä¸æ˜¯åªèƒ½è¿”å›å­—ç¬¦ä¸²ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œå¯ä»¥è¿”å›ä»»ä½•å€¼ã€‚

å½¢å¼å¦‚ï¼š

```js
function tagFunction(strArr, ...values) {
  // some statements...
}
```

å…¶ä¸­æ ‡ç­¾å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§ `raw`ï¼Œé€šè¿‡å®ƒå¯ä»¥è®¿é—®æ¨¡æ¿å­—ç¬¦ä¸²çš„ã€ŒåŸå§‹å­—ç¬¦ä¸²ã€ï¼Œè€Œä¸ç»è¿‡ç‰¹æ®Šå­—ç¬¦çš„è½¬æ¢ã€‚
```js
function tagFunction(strArr) {
  console.log(strArr.raw[0])
}

tagFunction`multiline text 1
 multiline text 2` // "multiline text 1\n multiline text 2"
```

## åº”ç”¨åœºæ™¯

1. å†™ GraphQL åº”ç”¨å¸¸ç”¨çš„ [graphql-tag](https://github.com/apollographql/graphql-tag) åº“ï¼Œå°±æ˜¯åº”ç”¨äº†æ ‡ç­¾å‡½æ•°çš„è¯­æ³•ï¼Œå†™æ³•å¾ˆç®€æ´ã€‚

```js
import gql from 'graphql-tag';

const query = gql`
  {
    user(id: 5) {
      firstName
      lastName
    }
  }
`
```

æœªå®Œå¾…ç»­...

<!--

## References

* [The magic behind ğŸ’… styled-components](https://mxstbr.blog/2016/11/styled-components-magic-explained/)
* [æ·±å…¥æµ…å‡º æ ‡ç­¾æ¨¡æ¿å­—ç¬¦ä¸² å’Œ ğŸ’… styled-components ğŸ’…](https://juejin.cn/post/6844903858083201037)

-->
