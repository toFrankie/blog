---
title: å°ç¨‹åº textarea ç»„ä»¶çš„å‘
number: '#304'
link: 'https://github.com/toFrankie/blog/issues/304'
created_at: '2023-03-10 10:22:46'
updated_at: '2023-06-06 10:47:36'
labels:
  - å°ç¨‹åº
  - '2021'
---
éƒ½ 2021 å¹´äº†ï¼Œå¾®ä¿¡å°ç¨‹åº [textarea](https://developers.weixin.qq.com/miniprogram/dev/component/textarea.html) ç»„ä»¶è¿˜æ˜¯é‚£ä¹ˆå¤šé—®é¢˜ï¼Œå…¼å®¹æ€§é—®é¢˜åœ¨ Android æœºå‹ï¼ˆç‰¹åˆ«æ˜¯ä½é…ç½®çš„ï¼‰ä¸Šå°¤ä¸ºçªå‡º...

å‡è®¾ç»„ä»¶å¦‚ä¸‹ï¼š

```html
<textarea
  name="postalAddress"
  id="postalAddress"
  rows="3"
  bindinput="inputEvent"
  bindblur="blurEvent"
  bindfocus="focusEvent"
  class="textarea"
  value="{{postalAddress}}"
  placeholder-class="input-placeholder"
  placeholder="è¯·è¾“å…¥"
  confirm-type="done"
  disable-default-padding="{{true}}"
  cursor-spacing="50"
  show-confirm-bar="{{false}}"
  auto-height="{{true}}"
  maxlength="60"
/>
```

è¿™é‡Œå°±æœ‰å¥½å¤šé—®é¢˜...

##### 1. show-confirm-bar çš„é—®é¢˜

æµ‹è¯•åŒå­¦å‘ç°åœ¨çº¢ç±³ 4X ä¸Šï¼Œ`textarea` ç»„ä»¶çš„â€œå®Œæˆâ€ä¸€æ ä¸é€æ˜åº¦ä¸æ˜¯ 100%ï¼Œå¯¼è‡´æ–‡æ¡ˆä¸åº•ä¸‹æ–‡æ¡ˆé‡å ã€‚ç„¶åå°±æƒ³ç€è®¾æˆ `show-confirm-bar="{{false}}"` æ¥éšè—â€œå®Œæˆâ€æ ã€‚

å¥½å®¶ä¼™ï¼Œæ–° Bug åˆæ¥äº†ã€‚å½“è®¾ç½®ä¹‹åï¼Œåœ¨ Android ä¸Šé¦–æ¬¡èšç„¦è¾“å…¥æ¡†æ—¶ï¼Œä¼šå¤±ç„¦ï¼ˆè‡ªåŠ¨æ”¶èµ·é”®ç›˜ï¼‰ã€‚ç„¶åæˆ‘æ˜¯è¿™æ ·è§£å†³è¿™ä¸ª Bug çš„ï¼š

> è¯¥ Bug å±äºå¤–éƒ¨åŸå› ï¼Œå°ç¨‹åºç»„ä»¶æœ¬èº«çš„é—®é¢˜æ— æ³•è§£å†³ï¼Œæ‰€ä»¥ä¸ä½œå¤„ç†ã€‚(åˆè§£å†³äº†ä¸€ä¸ªé—®é¢˜ï¼Œå¼€å¿ƒ ğŸ¤£)

ç¤¾åŒºç›¸å…³é—®é¢˜ï¼š

* [textareaï¼šshow-confirm-bar="false" å¤±å»ç„¦ç‚¹ï¼Ÿ](https://developers.weixin.qq.com/community/develop/doc/0006eea86ec8f0d4b21c31aa85b800?highLine=show-confirm-bar)
* [textarea ç»„ä»¶ä½¿ç”¨ show-confirm-bar="{{false}}" æ—¶é¦–æ¬¡èšç„¦ä¼šå¤±ç„¦ï¼Ÿ](https://developers.weixin.qq.com/community/develop/doc/000ce2547e8b1875233ce289f56400?highLine=show-confirm-bar)

##### 2. auto-height çš„é—®é¢˜

å±æ€§ `auto-height="{{true}}"` æ„¿æ„æ˜¯æƒ³æ ¹æ®å†…å®¹è‡ªé€‚åº”é«˜åº¦ï¼Œä»¥æé«˜ç”¨æˆ·ä½“éªŒã€‚å¯ç°å®æ˜¯ï¼Œç”¨æˆ·ä½“éªŒæ²¡æé«˜ï¼Œå€’æ˜¯æé«˜äº†å¼€å‘è€…çš„å¼€å‘éš¾åº¦ã€‚TMD åˆæ˜¯ Android æœºå‹çš„é—®é¢˜ï¼Œåœ¨ç”¨æˆ·å¤±ç„¦ä¹‹åï¼Œ`textarea` ä¼šå¤šäº†ä¸€å¤§éƒ¨åˆ†çš„ç©ºç™½éƒ¨åˆ†ï¼Œç”¨æˆ·ä½“éªŒå€’æ˜¯æ²¡æé«˜ï¼Œåè€Œå‡ºç° Bug äº†ï¼Œæ“¦ã€‚

> è§£å†³æ–¹æ¡ˆï¼šå»æ‰ `auto-height` å±æ€§ï¼Œä½¿ç”¨ CSS æ§åˆ¶ `min-height` å±æ€§ã€‚

ç¤¾åŒºç›¸å…³é—®é¢˜ï¼š

* [textarea è®¾ç½® auto-height è¶…å‡ºä¸€å±åæ˜¾ç¤ºå¼‚å¸¸ï¼Ÿ](https://developers.weixin.qq.com/community/develop/doc/00080ea90f44f864466b1d91b5b400?highLine=auto-height%2520%25E7%259A%2584%25E9%2597%25AE%25E9%25A2%2598)

##### 3. disable-default-padding çš„é—®é¢˜

å‡è®¾æˆ‘ä»¬çš„è®¾è®¡ç¨¿æ˜¯è¿™æ ·çš„ï¼Œå¤šè¡Œè¾“å…¥æ¡†ä¸å…¶ä»–å…ƒç´ å·¦è¾¹å¯¹é½ï¼Œä½†ç”±äº iOS ä¸Šä¼šæœ‰ä¸ªé»˜è®¤çš„å†…è¾¹è·ï¼Œå³ä½¿ CSS è®¾ç½®äº† padding-left ç­‰å±æ€§ä¹Ÿæ²¡æ•ˆæœã€‚å¯ä»¥æ·»åŠ ä¸€ä¸ª `disable-default-padding="{{true}}"` å±æ€§è§£å†³ã€‚

##### 3. textarea åŸç”Ÿç»„ä»¶çš„é—®é¢˜

ç”±äº[åŸç”Ÿç»„ä»¶](https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html)çš„ç‰¹ï¼ˆniaoï¼‰æ€§ï¼Œåœ¨æœªæ”¯æŒ**åŸç”Ÿç»„ä»¶åŒå±‚æ¸²æŸ“**ä¹‹å‰ï¼Œç±»ä¼¼ textarea ç­‰åŸç”Ÿç»„ä»¶å±‚çº§æ˜¯æœ€é«˜çš„ï¼Œæ— è®ºå…¶ä»–æ ‡ç­¾è®¾ç½®çš„ z-index æœ‰å¤šå¤§ï¼Œå‡æ— æ³•è¦†ç›–åŸç”Ÿç»„ä»¶ï¼Œå”¯ä¸€è§£å†³çš„æ–¹æ³•æ˜¯ä½¿ç”¨ cover-viewã€cover-image ç­‰ç»„ä»¶åŒ…è£¹åŸç”Ÿç»„ä»¶ï¼Œä½†æ˜¯æœ¬èº« cover-view ç­‰å°±ä¸€èº«æ¯›ç—…ï¼Œå®ƒ TM  çƒ¦äº†ï¼Œæ¯«æ— å¼€å‘ä½“éªŒã€‚

> å…³äºåŸç”Ÿç»„ä»¶ï¼Œå¯çœ‹æ–‡æ¡£ [native-component](https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html)ã€‚

ç»“åˆä»¥ä¸Šé—®é¢˜ï¼Œäºæ˜¯æ”¹æˆè¿™æ ·å­ï¼š

```html
<textarea
  name="postalAddress"
  id="postalAddress"
  rows="3"
  bindinput="inputEvent"
  bindblur="blurEvent"
  bindfocus="focusEvent"
  class="textarea"
  value="{{postalAddress}}"
  placeholder-class="input-placeholder"
  placeholder="è¯·è¾“å…¥"
  confirm-type="done"
  disable-default-padding="{{true}}"
  cursor-spacing="50"
  maxlength="60"
/>
```

The end.
