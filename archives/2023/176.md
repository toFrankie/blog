---
title: overflow ä½¿å¾— transform-style å¤±æ•ˆäº†
number: '#176'
link: 'https://github.com/toFrankie/blog/issues/176'
created_at: '2023-02-26 15:54:13'
updated_at: '2023-04-26 22:36:41'
labels:
  - CSS
  - '2022'
---
![é…å›¾æºè‡ª Freepik](https://upload-images.jianshu.io/upload_images/5128488-d9a50f2eb426646f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


è¿™å‘¨åšäº†ä¸€ä¸ªéœ€æ±‚ï¼Œå‡ºç°äº† Bugï¼Œç»æ’æŸ¥åå‘ç°ï¼š

> åŒä¸€å…ƒç´ åŒæ—¶è®¾ç½® `overflow: hidden` å’Œ `transform-style: preserve-3d` æ ·å¼ï¼Œä¼šä½¿å¾—åè€…å¤±å» 3D æ•ˆæœï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äº `transform-style: flat`ã€‚

ä¸‹é¢ç”¨ç¤ºä¾‹éªŒè¯ä¸€ä¸‹ï¼š

```html
<div class="container">
  <div class="rect red"></div>
  <div class="rect green"></div>
</div>
```

> `.constainer` åŒºåŸŸè®¾ç½®äº† `transform-style: preserve-3d`ï¼›
> `.red` åŒºåŸŸè®¾ç½®äº† `transform: translate3d(20px, 20px, 10px)`ï¼›
> `.green` åŒºåŸŸè®¾ç½®äº† `transform: translate3d(0, 0, 5px)`ï¼›

ğŸ‘‡
```css
.container {
  margin: 0 auto;
  border-radius: 10px;
  padding: 10px;
  width: 200px;
  height: 200px;
  background: #f8f8f8;
  transform-style: preserve-3d;
}

.rect {
  box-sizing: border-box;
  border: 2px solid #000;
  border-radius: 4px;
  width: 100px;
  height: 100px;
}

.red {
  background: #f00;
  /* translateZ ä¸º 10px */
  transform: translate3d(20px, 20px, 10px);
}

.green {
  background: #0f0;
  /* translateZ ä¸º 5px */
  transform: translate3d(0, 0, 5px);
}
```
ç”±äºçº¢è‰²åŒºåŸŸä¸ç»¿è‰²åŒºåŸŸç½®äº 3D ç©ºé—´ä¸­ï¼Œå…¶ä¸­çº¢è‰²åœ¨ Z è½´æ›´ä¸Šé¢ï¼Œå› æ­¤å®é™…è¡¨ç°å¦‚ä¸‹ï¼Œä¸é¢„æœŸä¸€è‡´ã€‚ ğŸ‘‡

![](https://upload-images.jianshu.io/upload_images/5128488-65f8da6a74c25446.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



ä¸€æ—¦ï¼Œå°† `overflow: hidden` åº”ç”¨äº `.container`ï¼Œ
```css
.container {
  margin: 0 auto;
  border-radius: 10px;
  padding: 10px;
  width: 200px;
  height: 200px;
  background: #f8f8f8;
  transform-style: preserve-3d;
  /* æ–°å¢ */
  overflow: hidden
}
```
é‚£ä¹ˆç»“æœå°±... ğŸ‘‡

![](https://upload-images.jianshu.io/upload_images/5128488-70c0fad927b7bb44.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

åœ¨ä¸åŒè®¾å¤‡å®é™…è¡¨ç°è¿˜ä¸ä¸€æ ·ï¼Œåº”è¯¥æ˜¯æ¸²æŸ“å†…æ ¸å®ç°ä¸ä¸€è‡´å¯¼è‡´çš„ã€‚FireFox æµè§ˆå™¨åŒå·¦è¾¹è¡¨ç°ä¸€æ ·ã€‚
å…¶ä¸­å·¦è¾¹ä¸ºã€Œéé¢„æœŸæ•ˆæœã€ï¼Œå³è¾¹ä¸ºã€Œé¢„æœŸæ•ˆæœã€ã€‚

ç¤ºä¾‹å¯çœ‹ï¼šğŸ‘‰ [CodePen](https://codepen.io/tofrankie/pen/ExLWRPQ)

æˆ‘ä»¬åˆ†æä¸€ä¸‹å·¦è¾¹çš„åŸå› ï¼š

> æˆ‘ä»¬çŸ¥é“ï¼Œä½¿ç”¨ `transform` ä¼šä½¿å¾—å…ƒç´ åˆ›å»ºä¸€ä¸ªã€Œå±‚å ä¸Šä¸‹æ–‡ã€ï¼Œä¹Ÿå°±æ˜¯è¯´ `.red` å’Œ `.green` æ˜¯ä¸¤ä¸ªä¸åŒçš„å±‚å ä¸Šä¸‹æ–‡ã€‚ç”±äºè¿™é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨ `z-index` æ¥æ§åˆ¶å…ƒç´ çš„ã€Œå±‚å é¡ºåºã€ï¼ŒåŠ ä¸Š `overflow: hidden` ä½¿å¾— `transform-style: preserve-3d` å¤±å»äº† 3D ç©ºé—´æ•ˆæœï¼Œå› æ­¤æ— æ³•é€šè¿‡ `transform: translateZ()` çš„å¤§å°æ¥æ§åˆ¶å±‚å é¡ºåºã€‚å› æ­¤åœ¨æ–‡æ¡£æµä¸­éµå¾ªã€Œåè€…å±…ä¸Šã€çš„åŸåˆ™ï¼Œä½¿å¾— `.green` å¤„äº `.red` çš„ä¸Šæ–¹ï¼ˆå³å·¦è¾¹çš„è¡¨ç°ï¼‰ã€‚


å› æ­¤ï¼Œå¯å¾—å‡ºç»“è®ºï¼š

> **åœ¨ã€Œé Webkit å†…æ ¸ã€ä¸­ï¼ŒåŒä¸€å…ƒç´ åŒæ—¶è®¾ç½® `overflow: hidden` å’Œ `transform-style: preserve-3d` æ ·å¼ï¼Œä¼šä½¿å¾—åè€…å¤±å» 3D æ•ˆæœï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äº `transform-style: flat`ã€‚**

æ³¨æ„ï¼Œä»¥ä¸Šç»“è®ºè¡¨è¿°ä¸ºã€Œé Webkit å†…æ ¸ã€å¯èƒ½ä¸ä¸¥è°¨ã€‚åŸå› æ˜¯ï¼šä»¥ä¸Š Chrome ä¸º Mac å¹³å°çš„æˆªå›¾ï¼ŒæŸ¥çœ‹äº†å…¶ UA æ˜¯ `Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36` æ ‡æ³¨çš„æ˜¯ Webkit å†…æ ¸ï¼Œéš¾é“å®é™…æ˜¯ Google çš„ Blink å†…æ ¸ï¼ˆè™½è¯´ Blink å¸ˆå‡º Webkitï¼‰ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œè¡¨è¿°å°±æ²¡é—®é¢˜äº†ã€‚

æœ‰æ—¶å€™ï¼ŒçŠ¯é”™äº†å°è±¡æ‰ä¼šæ›´åŠ æ·±åˆ»...
