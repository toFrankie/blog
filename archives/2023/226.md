---
title: Date å¯¹è±¡
number: '#226'
link: 'https://github.com/toFrankie/blog/issues/226'
created_at: '2023-02-26 18:51:47'
updated_at: '2023-04-26 21:57:23'
labels:
  - JS
  - '2020'
---
å…³äº Date å¯¹è±¡ï¼Œæœ‰å‡ ä¸ªæ–¹æ³•æ€»æ˜¯è®°ä¸ä½æˆ–è€…è®°æ··æ·†çš„ï¼Œæ‰€ä»¥å†™ç¯‡æ–‡ç« æ•´ç†ä¸€ä¸‹ã€‚

> å…³äº GTMï¼ˆæ ¼æ—å¨æ²»æ—¶é—´ï¼‰å’Œ UTCï¼ˆä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼‰çš„åŒºåˆ«ï¼Œå¯ä»¥çœ‹æ–‡ç« æœ«å°¾å¼•ç”¨çš„æ–‡ç« 


### Date

åœ¨ ECMAScript ä¸­ï¼ŒDate ç±»å‹ä½¿ç”¨è‡ªä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼ˆUTCï¼‰**1970-1-1 00:00:00** å¼€å§‹ç»è¿‡çš„æ¯«ç§’æ•°æ¥ä¿å­˜æ—¥æœŸã€‚

```js
// è·å–èµ·å§‹æ—¶é—´
const date = new Date(0)
// Thu Jan 01 1970 08:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

åˆ›å»º Date ä¸¤ç§æ–¹å¼ï¼š

```js
// å­—ç¬¦ä¸²ç±»å‹
const date = Date()
console.log(typeof date) // string

// å¯¹è±¡ç±»å‹ï¼ˆå¸¸ç”¨ï¼‰
const date = new Date()
console.log(typeof date) // object
```

### Date Get æ–¹æ³•

ä¸‹é¢ä»¥ 2020 å¹´ 12 æœˆ 03 æ—¥ä¸ºä¾‹ï¼š

* `getTime()`
  è¿”å› 1970 å¹´ 1 æœˆ 1 æ—¥é›¶æ—¶è‡³ä»Šçš„æ¯«ç§’æ•°ã€‚

* `getFullYear()`
  è¿”å› 4 ä½æ•°çš„å¹´ä»½ï¼ˆå¦‚ 2020ï¼‰ã€‚

* `getMonth()`
  è¿”å›æœˆä»½ï¼Œå€¼ä¸º `0~11` åˆ†åˆ«è¡¨ç¤º 1 æœˆåˆ° 12 æœˆã€‚**æ‰€ä»¥ä¸€èˆ¬è·å–æœˆä»½éƒ½è¦åŠ ä¸€**ã€‚

* `getDate()`
  è¿”å›ä¸€ä¸ªæœˆçš„æŸå¤©ï¼Œå€¼ä¸º `1~31` åˆ†åˆ«è¡¨ç¤º 1æ—¥åˆ° 31 æ—¥ã€‚

* `getDay()`
  è¿”å›ä¸€å‘¨çš„æŸå¤©ï¼Œå€¼ä¸º `0~6` åˆ†åˆ«è¡¨ç¤ºå‘¨æ—¥ã€å‘¨ä¸€åˆ°å‘¨å…­ã€‚

* `getHours()`
  è¿”å›å°æ—¶æ•°ï¼Œå€¼ä¸º `0 ~ 23`ã€‚

* `getMinutes()`
  è¿”å›åˆ†é’Ÿæ•°ï¼Œå€¼ä¸º `0 ~ 59`ã€‚

* `getSeconds()`
  è¿”å›ç§’æ•°ï¼Œå€¼ä¸º `0 ~ 59`ã€‚

* `getMilliseconds()`
  è¿”å›æ¯«ç§’æ•°ï¼Œå€¼ä¸º `0 ~ 999`ã€‚

> **`getYear()` æ–¹æ³•åœ¨ Web æ ‡å‡†ä¸­å·²è¢«åˆ é™¤ï¼Œå°½ç®¡æŸäº›æµè§ˆå™¨ä»ç„¶æ”¯æŒå®ƒï¼Œä½†å»ºè®®ä¸è¦ç”¨äº†ï¼**å› ä¸ºå®ƒåœ¨ä¸åŒæµè§ˆå™¨çš„è¡¨ç°ä¸ä¸€æ ·ã€‚åƒ Chromeã€Safariã€FireFox è¿”å›çš„æ˜¯ `å½“å‰å¹´ä»½ - 1900` çš„å€¼ã€‚è€Œåœ¨ IE æµè§ˆå™¨ä¸Šï¼Œå½“å½“å‰å¹´ä»½å¤§äºç­‰äº 2000 æ—¶ï¼Œè¿”å›å€¼æ˜¯å½“å‰ 4 ä½æ•°å¹´ä»½ã€‚ ğŸ‘‰ [MDN Date.getYear()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getYear)

### Date Set æ–¹æ³•

* `setTime()`
  ä»¥æ¯«ç§’è®¾ç½® Date å¯¹è±¡ï¼ˆå‚æ•°ï¼š`æ¯«ç§’æ•°`ï¼‰

* `setDate()`
  æ ¹æ®æœ¬åœ°æ—¶é—´è®¾ç½® Date å¯¹è±¡ä¸­æœˆçš„æŸä¸€å¤©ï¼ˆåˆç†å‚æ•°ï¼š`1 ~ 31`ï¼Œåˆ†åˆ«è¡¨ç¤º 1 ~ 31 æ—¥ï¼‰
  
  > å¦‚æœå‚æ•°è¶…å‡ºåˆç†èŒƒå›´ï¼Œä¼šç›¸å¯¹åº”çš„æ›´æ–° Date å¯¹è±¡ã€‚
  > * å‚æ•°ä¸º `0` æ—¶ï¼Œåˆ™è®¾ç½®ä¸º**ä¸Šä¸ªæœˆçš„æœ€åä¸€å¤©**ã€‚
  > * å‚æ•°ä¸º `è´Ÿæ•°` æ—¶ï¼Œåˆ™è®¾ç½®ä¸ºä¸Šä¸ªæœˆæœ€åä¸€å¤©å¾€å‰æ•°è¿™ä¸ªè´Ÿæ•°ç»å¯¹å€¼å¤©æ•°åçš„æ—¥æœŸã€‚ä¾‹å¦‚ï¼š`-1` ä¼šè®¾ç½®ä¸º**ä¸Šæœˆæœ€åä¸€å¤©çš„å‰ä¸€å¤©**ã€‚
  > * å‚æ•°ä¸º `è¶…è¿‡å½“å‰æœˆæœ€å¤§çš„å¤©æ•°` æ—¶ï¼Œåˆ™**è¶…å‡ºå¤©æ•°**ï¼ˆ`å‚æ•°å€¼ - å½“å‰æœˆå¤©æ•°`ï¼‰è®¾ç½®ä¸ºä¸‹ä¸ªæœˆå¯¹åº”æ—¥æœŸã€‚ä¾‹å¦‚ï¼šå½“å‰ Date ä¸º 4 æœˆï¼Œå½“å‚æ•°ä¸º 32 æ—¶ï¼Œåˆ™æ—¥æœŸè¢«è®¾ç½®ä¸º 5 æœˆ 2 æ—¥ã€‚
>
> ä¸‹åˆ— Set æ–¹æ³•åŒç†ã€‚

* `setMonth()`
  æ ¹æ®æœ¬åœ°æ—¶é—´è®¾ç½® Date å¯¹è±¡ä¸­æœˆä»½ï¼ˆå‚æ•°ï¼š`0 ~ 11`ï¼Œåˆ†åˆ«è¡¨ç¤º 1 ~ 12 æœˆä»½ï¼‰


* `setFullYear()`
  æ ¹æ®æœ¬åœ°æ—¶é—´è®¾ç½® Date å¯¹è±¡ä¸­çš„å¹´ä»½ï¼ˆå‚æ•°ï¼š`4 ä½æ•°å­—å¹´ä»½`ï¼‰

  > åŒæ · [setYear()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/setYear) å·²ä» Web æ ‡å‡†ä¸­åˆ é™¤ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚

* `setMilliseconds()`
  æ ¹æ®æœ¬åœ°æ—¶é—´è®¾ç½® Date å¯¹è±¡ä¸­çš„æ¯«ç§’æ•°ï¼ˆå‚æ•°ï¼š`0 ~ 999`ï¼‰

  è¶…å‡ºåˆç†èŒƒå›´ï¼Œæ—¥æœŸå¯¹è±¡çš„æ—¶é—´ä¼šç›¸åº”åœ°æ›´æ›´æ–°ã€‚ä¾‹å¦‚ 1005ï¼Œç§’æ•°åŠ  1ï¼Œæ¯«ç§’æ•°ä¸º 5ã€‚

* `setSeconds()`
  æ ¹æ®æœ¬åœ°æ—¶é—´è®¾ç½® Date å¯¹è±¡ä¸­çš„ç§’æ•°ï¼ˆå‚æ•°ï¼š`0 ~ 59`ï¼‰

  è¶…å‡ºåˆç†èŒƒå›´ï¼Œæ—¥æœŸå¯¹è±¡çš„æ—¶é—´ä¼šç›¸åº”åœ°æ›´æ›´æ–°ã€‚ä¾‹å¦‚ 100ï¼Œåˆ†é’Ÿæ•°åŠ  1ï¼Œç§’æ•°ä¸º 40ã€‚

* `setMinutes()`
  æ ¹æ®æœ¬åœ°æ—¶é—´è®¾ç½® Date å¯¹è±¡ä¸­çš„ç§’æ•°ï¼ˆå‚æ•°ï¼š`0 ~ 59`ï¼‰

  è¶…å‡ºåˆç†èŒƒå›´ï¼Œæ—¥æœŸå¯¹è±¡çš„æ—¶é—´ä¼šç›¸åº”åœ°æ›´æ›´æ–°ã€‚ä¾‹å¦‚ 60ï¼Œå°æ—¶æ•°åŠ  1ï¼Œç§’æ•°ä¸º 0ã€‚

* `setHours()`
  æ ¹æ®æœ¬åœ°æ—¶é—´è®¾ç½® Date å¯¹è±¡ä¸­çš„å°æ—¶æ•°ï¼ˆå‚æ•°ï¼š`0 ~ 23`ï¼‰

  è¶…å‡ºåˆç†èŒƒå›´ï¼Œæ—¥æœŸå¯¹è±¡çš„æ—¶é—´ä¼šç›¸åº”åœ°æ›´æ›´æ–°ã€‚ä¾‹å¦‚ 24ï¼Œå¤©æ•°åŠ  1ï¼Œå°æ—¶æ•°ä¸º 0ã€‚

### UTC æ—¶é—´

ä¸Šè¿°æ‰€è®²çš„ Get å’Œ Set æ–¹æ³•æ˜¯é’ˆå¯¹æœ¬åœ°æ—¶åŒºæ—¶é—´å»è·å–ã€è®¾ç½®æ—¶é—´çš„ã€‚è€Œ Date åŒæ ·æä¾›äº†è·å–ã€è®¾ç½® UTC æ—¶é—´ï¼Œæ–¹æ³•å¦‚ï¼š`getUTCMonth()`ã€`setUTCMonth()` ç­‰ç­‰ã€‚å®è·µè¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒå°‘æ¶‰åŠ UTC æ—¶é—´ï¼Œæ‰€ä»¥ä¸å±•å¼€èµ˜è¿°ã€‚[å¯ä»¥å·å·ç‚¹è¿™é‡Œå»äº†è§£ã€‚](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/setUTCMonth)

### Date å…¶ä»–æ–¹æ³•

* `Date.now()`

  è¿”å›è‡ª 1970-1-1 00:00:00ï¼ˆUTCï¼‰åˆ°å½“å‰æ—¶é—´çš„æ¯«ç§’æ•°ã€‚

* `Date.prototype.toString()`ã€`Date.prototype.toTimeString()`ã€`Date.prototype.toDateString()`

  è¿”å›å€¼æ˜¯ä»¥ç¾å¼è‹±è¯­å’Œäººç±»æ˜“è¯»çš„å½¢å¼è¿”å›æ—¥æœŸå¯¹è±¡çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²ç”±**æ—¥æœŸéƒ¨åˆ†**ï¼ˆå¹´æœˆæ—¥ï¼‰å’Œ**æ—¶é—´éƒ¨åˆ†**ï¼ˆæ—¶åˆ†ç§’åŠæ—¶åŒºï¼‰ç»„æˆã€‚

```js
const date = new Date()

date.toString() // "Thu Dec 03 2020 18:19:17 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)"
date.toDateString() // "Thu Dec 03 2020"
date.toTimeString() // "18:19:17 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)"
```

* `Date.parse()`ã€`Date.prototype.getTime()`ã€`Date.prototype.valueOf()`
  å®ƒä»¬éƒ½è¿”å› 1970-1-1 00:00:00ï¼ˆUTCï¼‰åˆ°æŒ‡å®šæ—¥æœŸçš„æ¯«ç§’æ•°ã€‚ä½†æ˜¯å®ƒä»¬è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚
  > å‰è€…ç²¾ç¡®åˆ°**ç§’**ï¼Œè€Œåä¸¤è€…æ˜¯ç²¾ç¡®åˆ°**æ¯«ç§’**ã€‚

```js
const date = new Date('5/24/2020')
date.setMilliseconds(45) // è®¾ç½®æ¯«ç§’æ•°

console.log(date.getTime()) // 1590249600045
console.log(date.valueOf()) // 1590249600045
console.log(Date.parse(date)) // 1590249600000
```

### å…¼å®¹æ€§

ç±»ä¼¼ `new Date('xxxx/xx/xx xx:xx:xx')` å½¢å¼çš„æ—¶é—´å¯¹è±¡åœ¨ IOS å’Œ Andriod ç³»ç»Ÿä¸Šéƒ½å¯ä»¥è¢«æ­£ç¡®çš„è¯†åˆ«ï¼Œè€Œç±»ä¼¼ `new Date('xxxx-xx-xx xx:xx:xx')` å½¢å¼çš„æ—¶é—´å¯¹è±¡åœ¨ iOS ç³»ç»Ÿä¸Šæ— æ³•è¢«æ­£ç¡®çš„è¯†åˆ«ï¼Œéœ€è¦åšä¸€å±‚è½¬åŒ–ã€‚

```
const date = new Date('xxxx-xx-xx xx:xx:xx'.replace(/-/g, '/'))
```

### å‚è€ƒ

* [MDN Date](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date)
* [æ—¥æœŸç›¸å…³ Date](https://juejin.cn/post/6844903941390467080)
* [GMT ä¸ UTC ç®€ä»‹](https://www.cnblogs.com/tosee/p/5538007.html)
