---
title: 'å…³äº error: refname refs/heads/master not found çš„é—®é¢˜'
number: '#106'
link: 'https://github.com/toFrankie/blog/issues/106'
created_at: '2023-02-25 20:45:27'
updated_at: '2023-04-26 22:16:41'
labels:
  - Git
  - '2021'
---
ä» 2020 å¹´ 10 æœˆ 1 æ—¥èµ·ï¼Œåœ¨ GitHub æ–°åˆ›å»ºçš„ä»“åº“ï¼ˆrepositoryï¼‰ä¼šä»¥ `main` ä½œä¸ºä»“åº“é»˜è®¤åˆ†æ”¯ï¼ˆdefault branchï¼‰ï¼Œä½†å®ƒä¸ä¼šå½±å“å·²æœ‰çš„ä»“åº“ã€‚

å½“ç„¶ï¼ŒGitHub ä»ç„¶æ˜¯æ”¯æŒè‡ªå®šä¹‰è®¾ç½®é»˜è®¤ä»“åº“åç§°çš„ï¼Œå¯åœ¨ [https://github.com/settings/repositories](https://github.com/settings/repositories)Â é¡µé¢è¿›è¡Œè®¾ç½®ã€‚

> å…³äºæ›´å¤š GitHub é‡å‘½åç›¸å…³ï¼Œè¯·çœ‹ ğŸ‘‰ [github/renaming](https://github.com/github/renaming)ã€‚

æŠ±æ­‰ï¼ŒåºŸè¯å¤šäº†ï¼Œå›åˆ°æ­£é¢˜ã€‚

ä»Šå¤©åˆ›å»ºäº†ä¸€ä¸ªæ–°é¡¹ç›® [vite-demo](https://github.com/toFrankie/vite-demo)ï¼Œç„¶åæƒ³ç€å°±ç”¨ `main` ä½œä¸ºé»˜è®¤åˆ†æ”¯å§ã€‚

```shell
$ git init
$ git branch -M main
```
æ‰§è¡Œä»¥ä¸Šé‡å‘½ååˆ†æ”¯çš„å‘½ä»¤åï¼Œå‘ç°æŠ¥é”™äº†ï¼Œå¦‚ä¸‹ï¼š

```shell
error: refname refs/heads/master not found
fatal: Branch rename failed
```

åŸå› æ˜¯æœ¬åœ°ä»£ç è¿˜æ²¡æäº¤ï¼ˆcommitï¼‰ï¼Œå› æ­¤æ²¡åŠæ³•è¿›è¡Œæ›´åæ“ä½œã€‚æ­£ç¡®çš„æ­¥éª¤åº”è¯¥æ˜¯å…ˆ **init â†’ add â†’ commit**ï¼Œæ¥ç€æ‰èƒ½è¿›è¡Œæ›´åæ“ä½œã€‚

åœ¨æœ¬åœ°ä¿®æ”¹ Git çš„é»˜è®¤åˆ†æ”¯åç§°ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤è°ƒæ•´ï¼š

```shell
$ git config --global init.defaultBranch <default-branch-name>
```
