---
title: 浅谈 TypeScript 泛型
number: '#371'
link: 'https://github.com/toFrankie/blog/issues/371'
created_at: '2025-09-09 18:28:15'
updated_at: '2025-09-09 18:28:15'
labels:
  - '2025'
  - TS
---
## 为什么要用泛型？

现在有一个非常简单的 id 函数，它接收任意类型的参数，并原样返回。

```js
function id(arg) {
  return arg
}
```

用 TS 的话如何描述参数与返回值的关系呢？

先说笨方法，使用函数重载，把所有类型都穷举一遍：

```ts
function id(arg: number): number
function id(arg: string): string
function id(arg: boolean): boolean
// ...
```

但根本列举不完，除了基本类型，还有无数种复合类型。也就是说，没写完就下班了...

我们可以观察到，参数 `arg` 的类型实际上只有在函数调用时才能确认其类型。

如果 TS 能这么写就好了（伪代码）：

```ts
function id(arg: Arg): Arg
```

但 TS 里没有 `Arg` 这种类型啊...

