---
title: Jira 使用记录
number: '#357'
link: 'https://github.com/toFrankie/blog/issues/357'
created_at: '2025-04-30 16:58:47'
updated_at: '2025-04-30 17:29:53'
labels:
  - '2025'
  - 工作
---




![配图源自 Freepik](https://cdn.jsdelivr.net/gh/toFrankie/blog@main/images/2025/4/1746003443752.jpg)

过滤器（筛选器）是 Jira 核心功能之一，利用它可以实现很多的需求。

## 开始之前

作一些简单的了解。

> JQL：Jira Query Language

### JQL Functions

一些基本函数，更多请看[这里](https://support.atlassian.com/jira-service-management-cloud/docs/jql-functions/)。

| 函数 | 说明 |
| :--- | :--- |
| currentUser() | 当前登录用户 |
| startOfWeek() | 本周开始 |
| endOfWeek() | 本周结束 |
| startOfMonth() | 本月开始 |
| endOfMonth() | 本月结束 |
| ... | |

### JQL Keywords

利用 AND、OR、NOT 等将多个条件连接在一起，实现更多复杂的查询，更多请看[这里](https://support.atlassian.com/jira-service-management-cloud/docs/jql-keywords/)。

## 查询

利用函数可以快速做一些筛选。

周报：

```
worklogAuthor = currentUser() AND worklogDate >= startOfWeek() AND worklogDate < endOfWeek()
```

月报：

```
worklogAuthor = currentUser() AND worklogDate >= startOfMonth() AND worklogDate < endOfMonth()
```

**注意，函数是动态的**。如果将以上查询应用在周报、月报里面是有问题的

> 比如，在周报中插入 Jira 过滤器，使用 `worklogAuthor = currentUser() AND worklogDate >= startOfWeek() AND worklogDate < endOfWeek()` 进行查询，这里是有问题的。
>
> 如果在下周或更后的时间再次访问这份周报时，它总显示本周的任务。因此，在周报、月报应指定日期。

指定用户、时间范围：

```
worklogAuthor = <your_username> AND worklogDate >= "2025/04/21" AND worklogDate <= "2025/04/25"
```

> 用户名可以头像 - Profile - Summary 处查看。

也可以在 `.zshrc` 中放入这个小脚本自动生成。

```shell
function genWeeklyJQL() {
  local dow=$(date +%u)
  local start=$(date -v -"$(($dow - 1))"d '+%Y/%m/%d')
  local end=$(date -v +"$((5 - $dow))"d '+%Y/%m/%d')
  # TODO: <your_username> 更换为你的用户名
  local jql="worklogAuthor = <your_username> AND worklogDate >= \"$start\" AND worklogDate <= \"$end\""
  echo "$jql"
  echo "$jql" | pbcopy
  echo "✅ Copied to clipboard"
}
```

## References

- [Use advanced search with Jira Query Language (JQL)](https://support.atlassian.com/jira-service-management-cloud/docs/use-advanced-search-with-jira-query-language-jql/)
- [JQL operators](https://support.atlassian.com/jira-service-management-cloud/docs/jql-operators/)
