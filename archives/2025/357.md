---
title: Jira ä½¿ç”¨è®°å½•
number: '#357'
link: 'https://github.com/toFrankie/blog/issues/357'
created_at: '2025-04-30 16:58:47'
updated_at: '2025-05-01 00:01:57'
labels:
  - '2025'
  - å·¥ä½œ
---




![é…å›¾æºè‡ª Freepik](https://cdn.jsdelivr.net/gh/toFrankie/blog@main/images/2025/4/1746003443752.jpg)

è¿‡æ»¤å™¨ï¼ˆç­›é€‰å™¨ï¼‰æ˜¯ Jira æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œåˆ©ç”¨å®ƒå¯ä»¥å®žçŽ°å¾ˆå¤šçš„éœ€æ±‚ã€‚

## å¼€å§‹ä¹‹å‰

ä½œä¸€äº›ç®€å•çš„äº†è§£ã€‚

> JQLï¼šJira Query Language

### JQL Functions

ä¸€äº›åŸºæœ¬å‡½æ•°ï¼Œæ›´å¤šè¯·çœ‹[è¿™é‡Œ](https://support.atlassian.com/jira-service-management-cloud/docs/jql-functions/)ã€‚

| å‡½æ•° | è¯´æ˜Ž |
| :--- | :--- |
| currentUser() | å½“å‰ç™»å½•ç”¨æˆ· |
| startOfWeek() | æœ¬å‘¨å¼€å§‹ |
| endOfWeek() | æœ¬å‘¨ç»“æŸ |
| startOfMonth() | æœ¬æœˆå¼€å§‹ |
| endOfMonth() | æœ¬æœˆç»“æŸ |
| ... | |

### JQL Keywords

åˆ©ç”¨ ANDã€ORã€NOT ç­‰å°†å¤šä¸ªæ¡ä»¶è¿žæŽ¥åœ¨ä¸€èµ·ï¼Œå®žçŽ°æ›´å¤šå¤æ‚çš„æŸ¥è¯¢ï¼Œæ›´å¤šè¯·çœ‹[è¿™é‡Œ](https://support.atlassian.com/jira-service-management-cloud/docs/jql-keywords/)ã€‚

## æŸ¥è¯¢

åˆ©ç”¨å‡½æ•°å¯ä»¥å¿«é€Ÿåšä¸€äº›ç­›é€‰ã€‚

æœ¬å‘¨å·¥ä½œï¼š

```
worklogAuthor = currentUser() AND worklogDate >= startOfWeek() AND worklogDate < endOfWeek()
```

æœ¬æœˆå·¥ä½œï¼š

```
worklogAuthor = currentUser() AND worklogDate >= startOfMonth() AND worklogDate < endOfMonth()
```

æŒ‡å®šæ—¶é—´èŒƒå›´ï¼š

```
worklogAuthor = currentUser() AND worklogDate >= "2025/04/21" AND worklogDate <= "2025/04/25"
```

## å‘¨æŠ¥/æœˆæŠ¥

**è¯·æ³¨æ„ï¼Œå‡½æ•°æ˜¯åŠ¨æ€çš„**ã€‚

å¦‚æžœå°†ä¸Šè¿°æŸ¥è¯¢æ¡ä»¶ç›´æŽ¥åº”ç”¨åœ¨æ±‡æŠ¥é‡Œé¢æ˜¯æœ‰é—®é¢˜çš„ã€‚

1. `worklogAuthor = currentUser()` è°ç™»å½•äº†å°±æ˜¯è°çš„ã€‚
2. `startOfWeek()` æ˜¯åŠ¨æ€çš„ï¼Œå¦‚æžœè¿™å‘¨è®¿é—®äº†ä¸Šå‘¨çš„å‘¨æŠ¥ï¼Œä¼šæ˜¾ç¤ºè¿™å‘¨çš„å†…å®¹ã€‚

ä½ æƒ³ä¸€ä¸‹ï¼Œå¦‚æžœé¢†å¯¼è®¿é—®ä½ çš„å‘¨æŠ¥ï¼Œä½†ä»–çœ‹åˆ°äº†è‡ªå·±æœ¬å‘¨çš„ä»»åŠ¡ï¼ŒæƒŠå‘†äº†ï¼ðŸ˜²

æˆ‘æ˜¯è¿™æ ·åšçš„ï¼ˆä»…ä¾›å‚è€ƒï¼‰ï¼š

1. è·Ÿæˆ‘æœ‰å…³çš„ä»»åŠ¡
    - ä¸ç”¨ `currentUser()` å‡½æ•°
    - æŒ‡æ´¾ç»™æˆ‘
        - æœ‰è®°å½•å·¥æ—¶
        - æœªè®°å½•å·¥æ—¶ï¼Œæ¯”å¦‚ä¸€äº› WON'T FIX çš„ä»»åŠ¡
    - æœªæŒ‡æ´¾ç»™æˆ‘ï¼Œä½†æœ‰å‚ä¸Žï¼Œå³æœ‰è®°å½•å·¥æ—¶
3. æŒ‡å®šæ—¶é—´èŒƒå›´
    - ä¸ä½¿ç”¨ `startOfWeek()` ç­‰åŠ¨æ€å‡½æ•°

ç»„åˆä¸€ä¸‹ï¼š

```
(worklogAuthor = "your_jira_username" AND worklogDate >= "2025/04/21" AND worklogDate <= "2025/04/25")
OR
(assignee = "your_jira_username" AND worklogAuthor is EMPTY AND created >= "2025/04/21" AND created <= "2025/04/25")
```

ä¹Ÿå¯ä»¥åœ¨ `.zshrc` ä¸­æ”¾å…¥è¿™ä¸ªå°è„šæœ¬è‡ªåŠ¨ç”Ÿæˆã€‚

```shell
function genReportJQL() {
  local username="your_jira_username" # TODO: ä½ çš„ç”¨æˆ·å
  local mode=${1:-weekly} # é»˜è®¤ weekly

  local start end

  if [[ "$mode" == "monthly" ]]; then
    start=$(date '+%Y/%m/01')
    end=$(date -v+1m -v1d -v-1d '+%Y/%m/%d')
  else
    local dow=$(date +%u)
    start=$(date -v -"$(($dow - 1))"d '+%Y/%m/%d')
    end=$(date -v +"$((5 - $dow))"d '+%Y/%m/%d')
  fi

  local jql="(worklogAuthor = \"$username\" AND worklogDate >= \"$start\" AND worklogDate <= \"$end\") OR (assignee = \"$username\" AND worklogAuthor is EMPTY AND created >= \"$start\" AND created <= \"$end\")"

  printf "%s" "$jql" | pbcopy
  echo "$jql"
  echo "âœ… Copied to clipboard"
}
```

## References

- [Use advanced search with Jira Query Language (JQL)](https://support.atlassian.com/jira-service-management-cloud/docs/use-advanced-search-with-jira-query-language-jql/)
- [JQL operators](https://support.atlassian.com/jira-service-management-cloud/docs/jql-operators/)
